# ssac3_test_android_todayhouse_miles

10/15

API가 없고 개발 가능시간도 짧았기 때문에 레이아웃 중심으로 구현하였다.

![initial](https://user-images.githubusercontent.com/66465380/137498974-3766f5fa-2d45-42f5-b1a7-ab6907b24912.JPG)

스플래시 화면은 별도의 액티비티를 이용하여 구현하였다. 
setTheme로 구현하는 것이 옳은 방식이라고는 하나 splash에서 로그인의 jwt토큰을 확인하기 위해 별도의 액티비티로 구현하는 것이 좋을 것이라고 판단하였다.


![initial](https://user-images.githubusercontent.com/66465380/137499538-cd568d52-3acf-4f2c-9a3a-321d792f6ff3.JPG)

로그인 화면을 구현하였다. 로그인버튼의 대부분은 이미지뷰로 구현하였는데 그 이유는 카카오톡 자체도 이미지를 제공해주기 때문에 이미지뷰를 클릭가능하게 하는 것이 
좋다고 생각하였다 SERVER프로그래머와 논의한 끝에 먼저 이메일을 이용한 자체 로그인 먼저 구현하는 것으로 하였다.


![initial](https://user-images.githubusercontent.com/66465380/137499587-99485448-4175-4404-a47e-0212e00ef6e2.JPG)

이메일 로그인을 구현하기 위해 레이아웃을 설계하였다. addTextChangedListener와  Pattern을 사용하여 Edit텍스트의 변경마다 원하는 값인지를 확인하였다.

![initial](https://user-images.githubusercontent.com/66465380/137592473-a173cc77-89c6-48ac-a4b5-23dc7e0c1055.png)

회원가입을 하기위한 레이아웃을 설계하고 클라이언트에서 가능한 코드들을 이용하여 API와 엮기 전 준비를 하였다.
TextWatcher를 이용하여 EditText의 변화가 있을때마다 유효성 검사가 가능 하도록하였다.

![initial](https://user-images.githubusercontent.com/66465380/137592608-1e2ccc60-2f9b-4e54-a221-2e731b794156.png)

회원 가입 후 최초화면에서 맞춤정보 설정을 위한 화면이 보이고 이를 구현하였다.
프로그레스바를 사용하여 현재 진행상황을 볼 수 있도록하였다. 이때 특이한 것이 하나의 스텝이 끝나면 다른 액티비티로 넘어가거나 새로운 탭이 추가되는 것이 아닌 하나의 스크롤에서 뷰가 밑으로 추가된다. 이를 구현하기 위해 ViewPager사용을 고려하였으나 어느 부분에서도 스크롤을 멈출 수 있다는 점에서 단순 NestedScrollView를 이용하여 Visibility를 변경하는 것으로 구현하는 것이 맞다고 판단했다.
다만 NestedScrollView하나의 하위 레이아웃만 가질 수 있기 때문에 3개의 뷰를 모두 화면크기에 맞추는 것은 불가능했고 이를 코드적으로 LayoutParams를 이용하여 해결하였다.

![initial](https://user-images.githubusercontent.com/66465380/137592630-28ee4b6c-c71b-4009-be75-c370d6e46bd4.png)

본격적인 앱화면 구성을 시작하였다.
앱이 복잡한 계층구조를 이루는 것 같아 이를 해석하는데 시간이 좀 걸렸다.
먼저 최 상위에 바텀네비게이션을 가진 메인 액티비티 - 탭 레이아웃을 가지는 스토어 프레그먼트 - 홈탭에 표시되는 스토어 홈프레그먼트를 구현하였다.
이때 탭레이아웃의 툴바가 아래 스크롤시 보이지 않고 위 스크롤시 보이게 되는데 이를 위해 CoordinatorLayout의 scrollFlags를 사용하였다.

10-17 

오늘은 로그인 관련 API를 구현하는 것을 우선 순위로 삼고 작업을 진행하였다.
![initial](https://user-images.githubusercontent.com/66465380/137632125-55d1abde-ec05-40a1-af10-1cce2e8a05ad.png)

먼저 로그인 화면을 구현 서버에서 아이디와 비밀번호를 대조한 후, 정상일 시 로그인이 가능하도록 jwt토큰을 받아 저장하였다.
이 후, 앱을 다시 실행할 때, 저장된 jwt 토큰이 존재한다면 스플래시 액티비티에서 바로 메인 액티비티, 아니라면 로그인 액티비티로 이동이 가능하도록 하였다.

회원가입 액티비티에서는 post를 통해 새로운 회원이 가입될 수 있도록 하였으며 정상적인 가입이 완료되었을 때 바로 로그인이 실행되도록 하였다.

![initial](https://user-images.githubusercontent.com/66465380/137632103-d2ac4192-45a8-48f8-8aa9-d622aa14f77a.png)

그리드 뷰를 통해 기본적인 카테고리가 보이도록 하였다. 

오늘은 예상외로 적은 분량밖에 구현하지 못했다...
밀린 분량은 내일 더 분발하여야 할 것 같다.

10/18

오늘은 카테고리별 검색 그 중에 검색에 대한 부분을 구현하려고 하였다.

![initial](https://user-images.githubusercontent.com/66465380/137744078-d1db041a-40bb-4908-bfb0-b6c2ed91e5a4.png)

먼저 드로어 레이아웃을 이용하여 상세필터를 만들었다. 이때 현재 카테고리를 감지해서 정확한 필터 조건들이 들어갈 수 있도록 하였다.

![initial](https://user-images.githubusercontent.com/66465380/137744144-dcc60e71-00bd-426a-a918-ee7cdce82f98.png)

또한 액티비티 부분에 상세필터를 호출하는 버튼과 몇몇 필터의 정보를 표시해주는 레이아웃을 만들었고
두 필터 모두 클릭시 선택한 정보가 플레그먼트에 넘어갈 수 있도록 하였다.
하지만 두 필터를 연결하려는 시도에서 실패하였으며 데드라인을 내일까지 설정하여 작업을 진행할 예정이다.
상품 페이지(전체)
10/18 11:00 AM( or ~10/19 12:00PM)
상품 페이지(하위 카테고리별)
10/20 11:00 AM( or ~10/21 12:00PM)

기존에 설정한 데드라인을 맞추지 못했다... 
최대한 빨리 작업을 진행해야 할 것 같다...

10/15

필터간의 연동을 가능하게 했다.

최대한 빠른 작업을 하려했으나 수업이 많은 날이라 가용시간을 6시간 정도 밖에 사용하지 못했다.
API중 카테고리별 검색 API를 추가로 적용하였으며 전체 카테고리 검색 API를 다듬었다.

![initial](https://user-images.githubusercontent.com/66465380/137942176-b3548c37-20fd-4862-bb75-75671e1289ef.png)
![initial](https://user-images.githubusercontent.com/66465380/137942251-01fbe3c1-2013-4316-b717-e8bb0d1b0ea2.png)

다음과 같이 서버에서 아이템 정보를 받아오는 것에 성공하였다.
정말 다양한 필터가 있지만 여건 상 패브릭의 경우 색상과 리퍼상품여부, 패턴만을 검색 가능하게 하였다.

사진의 경우 충분한 준비가 되어있지않아 일단은 비워두었으며 추가로 글라이드를 엮을것이다. 

내일의 경우 전체 카테고리 페이지와 필터 카테고리 페이지를 완성에 가깝게 구현하고 
추가로 상세페이지 API를 엮을 예정이다.

